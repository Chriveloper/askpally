---
// Import the necessary dependencies
import IconBlock from "@components/ui/blocks/IconBlock.astro";
import Icon from "@components/ui/icons/Icon.astro";

interface Feature {
  heading: string;
  content: string;
  svg: string;
}

interface Props {
  title?: string;
  subTitle?: string;
  features?: Feature[];
  src?: any; 
  alt?: string;
}
// Define props from Astro
const { title, subTitle, features } = Astro.props;
const youtubeVideoUrl = "https://www.youtube.com/embed/_oe03gRcnEs";
---

<section
  class="mx-auto max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 2xl:max-w-full"
>
  <!-- Block to display the YouTube video -->
  <div class="relative mb-6 md:mb-8">
    <!-- Fixed video container with proper aspect ratio -->
    <div class="w-full relative" style="padding-bottom: 56.25%; height: 0; overflow: hidden;">
      <iframe
        src={youtubeVideoUrl}
        title="AskPally Pitch Video"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
        class="absolute top-0 left-0 w-full h-full"
      ></iframe>
    </div>
  </div>

  <!-- Title and subtitle centered above the features -->
  <div class="text-center max-w-2xl mx-auto">
    <h2 class="text-balance text-2xl font-bold text-neutral-800 dark:text-neutral-200 md:text-3xl">
      {title}
    </h2>
    {
      subTitle && (
        <p class="mt-2 text-pretty text-neutral-600 dark:text-neutral-400 md:mt-4">
          {subTitle}
        </p>
      )
    }
  </div>

  <!-- Features grid, now full width and centered -->
  <div class="mt-10 grid gap-8 sm:grid-cols-2 lg:grid-cols-3 lg:gap-12 justify-items-center">
    { features &&
      features.map((feature) => (
        <IconBlock heading={feature.heading} content={feature.content}>
          <Icon name={feature.svg} />
        </IconBlock>
      ))
    }
  </div>
</section>